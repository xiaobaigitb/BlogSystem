
## 1 下载
### 获取公开图片（博主头像，友情链接图标，类别图标，博文图片等）
- 接口地址：http://localhost:8080/image/1/type=public/4（数字1为博主id，数字4为图片id）
- 返回格式：图片
- 请求方式：get
- 请求参数：
<table>
<tr>
<th>名称</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
<th>默认</th>
</tr>
<tr>
<td>default</td>
<td>int</td>
<td>否</td>
<td>请求图片不存在时返回的默认图片类型</td>
<td>应用默认图片</td>
</tr>
</table>

- 请求示例：
http://localhost:8080/image/1/type=public/523?default=5

如果不存在指定图片，则返回默认图片

### 获取博主私有图片
- 接口地址：http://localhost:8080/image/1/type=private/5（数字1为博主id，数字5为图片id）
- 返回格式：图片
- 请求方式：get
- 前提条件：博主需登录
- 请求参数：
<table>
<tr>
<th>名称</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
<th>默认</th>
</tr>
<tr>
<td>default</td>
<td>int</td>
<td>否</td>
<td>请求图片不存在时返回的默认图片类型</td>
<td>应用默认图片</td>
</tr>
</table>

## 2 上传
- 接口地址：http://localhost:8080/image/1（数字1为博主id）
- 返回格式：gson
- 请求方式：post
- 前提条件：博主需登录
- 请求参数说明：
<table>
<tr>
<th>名称</th>
<th>类型</th>
<th>必填</th>
<th>说明</th>
<th>默认</th>
</tr>
<tr>
<td>category</td>
<td>int</td>
<td>否</td>
<td>图片类别</td>
<td>默认类别</td>
</tr>
<tr>
<td>bewrite</td>
<td>string</td>
<td>否</td>
<td>图片描述</td>
<td>无</td>
</tr>
<tr>
<td>title</td>
<td>string</td>
<td>否</td>
<td>图片标题</td>
<td>图片名称</td>
</tr>
</table>

- 返回值：
上传成功返回记录图片id，否则出错原因

- 说明：

图片存储结构说明如下：

磁盘保存：
图片保存根路径由conf.properties的blogger.bloggerImageRootPath属性指定，每个博主有自己的独立文件夹，文件夹下按类别存放图片，
当文件类别被修改时，磁盘中的保存路径会相应变换。

数据库：
普通类别直接插入新纪录，唯一类别由于图片唯一，因而数据库记录也应唯一，所以上传唯一图片时如果数据库有对应类别记录则更新（
将已有记录类别修改为私有类别，对于的磁盘图片也移动到私有目录下），否则直接新增记录。

图片管理员（博主）：负责管理应用使用到的全局默认图片，如默认的类别图片，默认的博主头像等，图片管理员在更新图片时（更新图
片类别时）有一些限制，如管理员需保证默认图片始终不为空，实现方式时，管理员不能将图片从唯一类别修改为非唯一类别，如果想更
新唯一类别图片，只能通过将普通类别图片修改为目标类别图片，或上传目标唯一类别图片的形式将目标唯一类别图片替换到默认的私有
类别图片中。
对于同样具有唯一性的头像则没有这个限制，即头像可以为空（这时将使用默认头像）。
